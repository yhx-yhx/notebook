import{h as S,g as c,l as a,$ as de,D as j,V as pe,d as I,o as m,c as w,r as U,N as M,w as _,a7 as A,k,n as v,t as G,a8 as q,T as J,a9 as fe,j as me,z as ve,b,W as ge,e as T,S as ye,K as Ce,a3 as be,aa as F,ab as W,ac as E,ad as H}from"./framework.b53b6339.js";import{u as he,a as Te,d as Se,l as _e,z as xe,S as Ie,k as K,m as Ne,i as Y,b as ze,c as we,e as ke,E as Ee}from"./index.5ac5b39c.js";import{u as Q,d as Be,n as Me,b as X,_ as ee,w as $e,a as P,c as Le}from"./plugin-vue_export-helper.a56276d8.js";import{a as B,i as Oe,T as V,E as R,b as De,c as Fe}from"./index.b5b369dc.js";const se=Symbol(),x=S();function ne(s,n=void 0){const e=j()?pe(se,x):x;return s?c(()=>{var o,t;return(t=(o=e.value)==null?void 0:o[s])!=null?t:n}):e}function He(s,n){const e=ne(),o=Q(s,c(()=>{var l;return((l=e.value)==null?void 0:l.namespace)||Be})),t=he(c(()=>{var l;return(l=e.value)==null?void 0:l.locale})),r=Te(c(()=>{var l;return((l=e.value)==null?void 0:l.zIndex)||Se})),u=c(()=>{var l;return a(n)||((l=e.value)==null?void 0:l.size)||""});return Ke(c(()=>a(e)||{})),{ns:o,locale:t,zIndex:r,size:u}}const Ke=(s,n,e=!1)=>{var o;const t=!!j(),r=t?ne():void 0,u=(o=n==null?void 0:n.provide)!=null?o:t?de:void 0;if(!u)return;const l=c(()=>{const f=a(s);return r!=null&&r.value?Pe(r.value,f):f});return u(se,l),u(_e,c(()=>l.value.locale)),u(Me,c(()=>l.value.namespace)),u(xe,c(()=>l.value.zIndex)),u(Ie,{size:c(()=>l.value.size||"")}),(e||!x.value)&&(x.value=l.value),l},Pe=(s,n)=>{var e;const o=[...new Set([...K(s),...K(n)])],t={};for(const r of o)t[r]=(e=n[r])!=null?e:s[r];return t},Z={},Ve=X({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}}),Re=["textContent"],Ze=I({name:"ElBadge"}),je=I({...Ze,props:Ve,setup(s,{expose:n}){const e=s,o=Q("badge"),t=c(()=>e.isDot?"":B(e.value)&&B(e.max)?e.max<e.value?`${e.max}+`:`${e.value}`:`${e.value}`);return n({content:t}),(r,u)=>(m(),w("div",{class:v(a(o).b())},[U(r.$slots,"default"),M(J,{name:`${a(o).namespace.value}-zoom-in-center`,persisted:""},{default:_(()=>[A(k("sup",{class:v([a(o).e("content"),a(o).em("content",r.type),a(o).is("fixed",!!r.$slots.default),a(o).is("dot",r.isDot)]),textContent:G(a(t))},null,10,Re),[[q,!r.hidden&&(a(t)||r.isDot)]])]),_:1},8,["name"])],2))}});var Ue=ee(je,[["__file","/home/runner/work/element-plus/element-plus/packages/components/badge/src/badge.vue"]]);const Ae=$e(Ue),te=["success","info","warning","error"],d=Ne({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:Y?document.body:void 0}),Ge=X({customClass:{type:String,default:d.customClass},center:{type:Boolean,default:d.center},dangerouslyUseHTMLString:{type:Boolean,default:d.dangerouslyUseHTMLString},duration:{type:Number,default:d.duration},icon:{type:Oe,default:d.icon},id:{type:String,default:d.id},message:{type:P([String,Object,Function]),default:d.message},onClose:{type:P(Function),required:!1},showClose:{type:Boolean,default:d.showClose},type:{type:String,values:te,default:d.type},offset:{type:Number,default:d.offset},zIndex:{type:Number,default:d.zIndex},grouping:{type:Boolean,default:d.grouping},repeatNum:{type:Number,default:d.repeatNum}}),qe={destroy:()=>!0},p=fe([]),Je=s=>{const n=p.findIndex(t=>t.id===s),e=p[n];let o;return n>0&&(o=p[n-1]),{current:e,prev:o}},We=s=>{const{prev:n}=Je(s);return n?n.vm.exposed.bottom.value:0},Ye=(s,n)=>p.findIndex(o=>o.id===s)>0?20:n,Qe=["id"],Xe=["innerHTML"],es=I({name:"ElMessage"}),ss=I({...es,props:Ge,emits:qe,setup(s,{expose:n}){const e=s,{Close:o}=De,{ns:t,zIndex:r}=He("message"),{currentZIndex:u,nextZIndex:l}=r,f=S(),y=S(!1),C=S(0);let N;const ae=c(()=>e.type?e.type==="error"?"danger":e.type:"info"),le=c(()=>{const i=e.type;return{[t.bm("icon",i)]:i&&V[i]}}),$=c(()=>e.icon||V[e.type]||""),re=c(()=>We(e.id)),L=c(()=>Ye(e.id,e.offset)+re.value),ie=c(()=>C.value+L.value),ue=c(()=>({top:`${L.value}px`,zIndex:u.value}));function z(){e.duration!==0&&({stop:N}=ke(()=>{h()},e.duration))}function O(){N==null||N()}function h(){y.value=!1}function ce({code:i}){i===Ee.esc&&h()}return me(()=>{z(),l(),y.value=!0}),ve(()=>e.repeatNum,()=>{O(),z()}),ze(document,"keydown",ce),we(f,()=>{C.value=f.value.getBoundingClientRect().height}),n({visible:y,bottom:ie,close:h}),(i,D)=>(m(),b(J,{name:a(t).b("fade"),onBeforeLeave:i.onClose,onAfterLeave:D[0]||(D[0]=rs=>i.$emit("destroy")),persisted:""},{default:_(()=>[A(k("div",{id:i.id,ref_key:"messageRef",ref:f,class:v([a(t).b(),{[a(t).m(i.type)]:i.type&&!i.icon},a(t).is("center",i.center),a(t).is("closable",i.showClose),i.customClass]),style:ge(a(ue)),role:"alert",onMouseenter:O,onMouseleave:z},[i.repeatNum>1?(m(),b(a(Ae),{key:0,value:i.repeatNum,type:a(ae),class:v(a(t).e("badge"))},null,8,["value","type","class"])):T("v-if",!0),a($)?(m(),b(a(R),{key:1,class:v([a(t).e("icon"),a(le)])},{default:_(()=>[(m(),b(ye(a($))))]),_:1},8,["class"])):T("v-if",!0),U(i.$slots,"default",{},()=>[i.dangerouslyUseHTMLString?(m(),w(Ce,{key:1},[T(" Caution here, message could've been compromised, never use user's input as message "),k("p",{class:v(a(t).e("content")),innerHTML:i.message},null,10,Xe)],2112)):(m(),w("p",{key:0,class:v(a(t).e("content"))},G(i.message),3))]),i.showClose?(m(),b(a(R),{key:2,class:v(a(t).e("closeBtn")),onClick:be(h,["stop"])},{default:_(()=>[M(a(o))]),_:1},8,["class","onClick"])):T("v-if",!0)],46,Qe),[[q,y.value]])]),_:3},8,["name","onBeforeLeave"]))}});var ns=ee(ss,[["__file","/home/runner/work/element-plus/element-plus/packages/components/message/src/message.vue"]]);let ts=1;const oe=s=>{const n=!s||F(s)||W(s)||E(s)?{message:s}:s,e={...d,...n};if(!e.appendTo)e.appendTo=document.body;else if(F(e.appendTo)){let o=document.querySelector(e.appendTo);Fe(o)||(o=document.body),e.appendTo=o}return e},os=s=>{const n=p.indexOf(s);if(n===-1)return;p.splice(n,1);const{handler:e}=s;e.close()},as=({appendTo:s,...n},e)=>{const o=`message_${ts++}`,t=n.onClose,r=document.createElement("div"),u={...n,id:o,onClose:()=>{t==null||t(),os(C)},onDestroy:()=>{H(null,r)}},l=M(ns,u,E(u.message)||W(u.message)?{default:E(u.message)?u.message:()=>u.message}:null);l.appContext=e||g._context,H(l,r),s.appendChild(r.firstElementChild);const f=l.component,C={id:o,vnode:l,vm:f,handler:{close:()=>{f.exposed.visible.value=!1}},props:l.component.props};return C},g=(s={},n)=>{if(!Y)return{close:()=>{}};if(B(Z.max)&&p.length>=Z.max)return{close:()=>{}};const e=oe(s);if(e.grouping&&p.length){const t=p.find(({vnode:r})=>{var u;return((u=r.props)==null?void 0:u.message)===e.message});if(t)return t.props.repeatNum+=1,t.props.type=e.type,t.handler}const o=as(e,n);return p.push(o),o.handler};te.forEach(s=>{g[s]=(n={},e)=>{const o=oe(n);return g({...o,type:s},e)}});function ls(s){for(const n of p)(!s||s===n.props.type)&&n.handler.close()}g.closeAll=ls;g._context=null;const ps=Le(g,"$message");export{ps as E};
