import{b as H,u as K,_ as j,w as X,a as Y}from"./plugin-vue_export-helper.D7P7YZzh.js";import{C as A}from"./event.BB_Ol6Sd.js";import{i as G}from"./types.CF8Z-v_j.js";import{f as Z}from"./vnode.qAQyLpSv.js";import{H as ee,aD as se,d as w,y as V,$ as te,o as u,c as h,r as g,n as i,p as e,ah as J,h as N,O as ae,l as re,ad as ne,k as c,as as ie,e as C,m as y,Q as O,b as _,w as b,K as oe,J as W,t as B,a as x}from"./framework.Svq8VKyI.js";import{E as I,b as le,d as ce}from"./index.Cl81w-4Z.js";import{i as ue}from"./icon.ebjsOQxC.js";const pe=(p,d,s)=>Z(p.subTree).filter(r=>{var t;return se(r)&&((t=r.type)==null?void 0:t.name)===d&&!!r.component}).map(r=>r.component.uid).map(r=>s[r]).filter(r=>!!r),de=(p,d)=>{const s={},n=ee([]);return{children:n,addChild:t=>{s[t.uid]=t,n.value=pe(p,d,s)},removeChild:t=>{delete s[t],n.value=n.value.filter(o=>o.uid!==t)}}},ve=H({space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",values:["horizontal","vertical"]},alignCenter:{type:Boolean},simple:{type:Boolean},finishStatus:{type:String,values:["wait","process","finish","error","success"],default:"finish"},processStatus:{type:String,values:["wait","process","finish","error","success"],default:"process"}}),me={[A]:(p,d)=>[p,d].every(G)},fe=w({name:"ElSteps"}),he=w({...fe,props:ve,emits:me,setup(p,{emit:d}){const s=p,n=K("steps"),{children:v,addChild:r,removeChild:t}=de(J(),"ElStep");return V(v,()=>{v.value.forEach((o,l)=>{o.setIndex(l)})}),te("ElSteps",{props:s,steps:v,addStep:r,removeStep:t}),V(()=>s.active,(o,l)=>{d(A,o,l)}),(o,l)=>(u(),h("div",{class:i([e(n).b(),e(n).m(o.simple?"simple":o.direction)])},[g(o.$slots,"default")],2))}});var Se=j(he,[["__file","/home/runner/work/element-plus/element-plus/packages/components/steps/src/steps.vue"]]);const ye=H({title:{type:String,default:""},icon:{type:ue},description:{type:String,default:""},status:{type:String,values:["","wait","process","finish","error","success"],default:""}}),Ce=w({name:"ElStep"}),_e=w({...Ce,props:ye,setup(p){const d=p,s=K("step"),n=N(-1),v=N({}),r=N(""),t=ae("ElSteps"),o=J();re(()=>{V([()=>t.props.active,()=>t.props.processStatus,()=>t.props.finishStatus],([a])=>{F(a)},{immediate:!0})}),ne(()=>{t.removeStep(D.uid)});const l=c(()=>d.status||r.value),M=c(()=>{const a=t.steps.value[n.value-1];return a?a.currentStatus:"wait"}),k=c(()=>t.props.alignCenter),P=c(()=>t.props.direction==="vertical"),m=c(()=>t.props.simple),E=c(()=>t.steps.value.length),z=c(()=>{var a;return((a=t.steps.value[E.value-1])==null?void 0:a.uid)===(o==null?void 0:o.uid)}),S=c(()=>m.value?"":t.props.space),Q=c(()=>[s.b(),s.is(m.value?"simple":t.props.direction),s.is("flex",z.value&&!S.value&&!k.value),s.is("center",k.value&&!P.value&&!m.value)]),R=c(()=>{const a={flexBasis:G(S.value)?`${S.value}px`:S.value?S.value:`${100/(E.value-(k.value?0:1))}%`};return P.value||z.value&&(a.maxWidth=`${100/E.value}%`),a}),U=a=>{n.value=a},q=a=>{const f=a==="wait",$={transitionDelay:`${f?"-":""}${150*n.value}ms`},T=a===t.props.processStatus||f?0:100;$.borderWidth=T&&!m.value?"1px":0,$[t.props.direction==="vertical"?"height":"width"]=`${T}%`,v.value=$},F=a=>{a>n.value?r.value=t.props.finishStatus:a===n.value&&M.value!=="error"?r.value=t.props.processStatus:r.value="wait";const f=t.steps.value[n.value-1];f&&f.calcProgress(r.value)},D=ie({uid:o.uid,currentStatus:l,setIndex:U,calcProgress:q});return t.addStep(D),(a,f)=>(u(),h("div",{style:O(e(R)),class:i(e(Q))},[C(" icon & line "),y("div",{class:i([e(s).e("head"),e(s).is(e(l))])},[e(m)?C("v-if",!0):(u(),h("div",{key:0,class:i(e(s).e("line"))},[y("i",{class:i(e(s).e("line-inner")),style:O(v.value)},null,6)],2)),y("div",{class:i([e(s).e("icon"),e(s).is(a.icon||a.$slots.icon?"icon":"text")])},[g(a.$slots,"icon",{},()=>[a.icon?(u(),_(e(I),{key:0,class:i(e(s).e("icon-inner"))},{default:b(()=>[(u(),_(oe(a.icon)))]),_:1},8,["class"])):e(l)==="success"?(u(),_(e(I),{key:1,class:i([e(s).e("icon-inner"),e(s).is("status")])},{default:b(()=>[W(e(le))]),_:1},8,["class"])):e(l)==="error"?(u(),_(e(I),{key:2,class:i([e(s).e("icon-inner"),e(s).is("status")])},{default:b(()=>[W(e(ce))]),_:1},8,["class"])):e(m)?C("v-if",!0):(u(),h("div",{key:3,class:i(e(s).e("icon-inner"))},B(n.value+1),3))])],2)],2),C(" title & description "),y("div",{class:i(e(s).e("main"))},[y("div",{class:i([e(s).e("title"),e(s).is(e(l))])},[g(a.$slots,"title",{},()=>[x(B(a.title),1)])],2),e(m)?(u(),h("div",{key:0,class:i(e(s).e("arrow"))},null,2)):(u(),h("div",{key:1,class:i([e(s).e("description"),e(s).is(e(l))])},[g(a.$slots,"description",{},()=>[x(B(a.description),1)])],2))],2)],6))}});var L=j(_e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/steps/src/item.vue"]]);const Be=X(Se,{Step:L}),Ie=Y(L);export{Ie as E,Be as a};
