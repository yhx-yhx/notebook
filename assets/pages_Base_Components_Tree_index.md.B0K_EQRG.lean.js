import{_ as o,l as g,o as d,c,J as y,m as E,a as u,a5 as b}from"./chunks/framework.Svq8VKyI.js";class m{constructor(i,n,s,a={children:"children",name:"name",icon:"&#xe67d;"}){this.data=i,this.elem=n,this.options=a,this.icon=a.icon,this.nodeClick=s}createNode(i,n,s=0){const a=document.createElement("li");if(a.setAttribute("data-level",s),a.style.paddingLeft=(s+1)*10+"px",s!=="0"&&a.setAttribute("data-state",0),i[this.options.children]){const t=document.createElement("i");t.className="iconfont tree_item_icon",t.innerHTML="&#xe606;",a.appendChild(t),t.addEventListener("click",e=>{const p=e.target.parentElement.getAttribute("data-state");p==0?(e.target.parentElement.setAttribute("data-state","1"),e.target.style.display="inline-block",e.target.style.transform="rotate(90deg)"):(e.target.parentElement.setAttribute("data-state","0"),e.target.style.display="inline-block",e.target.style.transform="rotate(0deg)");const r=e.target.parentElement.querySelectorAll(`li[data-level="${s+1}"]`);p==0?r.forEach(h=>{h.style.display="block"}):r.forEach(h=>{h.style.display="none"})})}const l=document.createElement("span");l.innerHTML=i[this.options.name],l.classList.add("ellipsis"),l.style.setProperty("max-width",`calc(100% - ${10*s}px) - 20px `),l.title=i[this.options.name],a.appendChild(l),n?n.appendChild(a):this.elem.appendChild(a),i[this.options.children]&&i[this.options.children].forEach(t=>{this.createNode(t,a,s+1)}),i[this.options.children]||l.addEventListener("click",()=>{this.nodeClick(i,a,n,s)})}render(){const i=document.createElement("ul");i.style.setProperty("width","100%"),i.style.setProperty("overflow","hidden"),this.data.forEach(s=>{this.createNode(s,i)}),document.querySelector(`${this.elem}`).appendChild(i),[...document.querySelector(`${this.elem}`).querySelectorAll("li")].filter(s=>s.getAttribute("data-state")==="0"&&s.getAttribute("data-level")>=1).forEach(s=>{s.style.display="none";const a=s.querySelector(".tree_item_icon");a&&(a.style.display="inline-block",a.style.transform="rotate(0deg)")})}}const F={class:"xcxcx container"},C={__name:"index",setup(k){return g(()=>{const i=[{id:1,name:"root1",children:[{id:2,name:"child1",children:[]},{id:3,name:"child2",children:[]}]}],n=".xcxcx.container";function s(l,t,e,p){console.log(l,t,e,p)}new m(i,n,s).render()}),(i,n)=>(d(),c("div",F))}},B=o(C,[["__scopeId","data-v-b26b2a74"]]),_=E("h1",{id:"tree-原生js实现",tabindex:"-1"},[u("tree 原生js实现 "),E("a",{class:"header-anchor",href:"#tree-原生js实现","aria-label":'Permalink to "tree 原生js实现"'},"​")],-1),A=b("",2),x=JSON.parse('{"title":"tree 原生js实现","description":"","frontmatter":{},"headers":[],"relativePath":"pages/Base/Components/Tree/index.md","filePath":"pages/Base/Components/Tree/index.md","lastUpdated":1710085005000}'),q={name:"pages/Base/Components/Tree/index.md"},D=Object.assign(q,{setup(k){return(i,n)=>(d(),c("div",null,[_,y(B),A]))}});export{x as __pageData,D as default};
