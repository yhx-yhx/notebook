import"./chunks/index.4ed993c7.js";import{u as v,T as j,E as z,D as V,B as H,a as m,P as U}from"./chunks/index.min.7e932f0d.js";import{_ as W,j as $,h as G,o as P,b as K,w as _,N as b,l as g,c as M,K as X,L as J,p as Y,m as Q,k as u,a as B,J as Z,X as ss}from"./chunks/framework.57530656.js";import{E as ns,a as as,b as ls,c as es,d as os,e as ts}from"./chunks/index.51fc4bb4.js";import{E as ps}from"./chunks/index.3fa49f58.js";import"./chunks/commonjsHelpers.de833af9.js";import"./chunks/constants.89ff2aa2.js";import"./chunks/plugin-vue_export-helper.6e434dd0.js";import"./chunks/index.7d56342f.js";import"./chunks/types.2d60aa44.js";import"./chunks/use-form-item.1800e9d7.js";import"./chunks/index.440778dc.js";import"./chunks/index.0c9b8ef1.js";import"./chunks/index.7d1e2036.js";import"./chunks/typescript.defaf979.js";import"./chunks/event.9519ab40.js";import"./chunks/isNil.c75b1b34.js";import"./chunks/objects.ae6aadfd.js";import"./chunks/isEqual.8fbbb203.js";import"./chunks/index.8d9e44d9.js";import"./chunks/aria.60e0cdc6.js";import"./chunks/index.e5c3bbd6.js";import"./chunks/index.6e475c3a.js";function I(o,e){var a=Object.keys(o);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(o);e&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(o,n).enumerable})),a.push.apply(a,s)}return a}function k(o){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?I(Object(a),!0).forEach(function(s){C(o,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(a)):I(Object(a)).forEach(function(s){Object.defineProperty(o,s,Object.getOwnPropertyDescriptor(a,s))})}return o}function h(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function T(o,e){for(var a=0;a<e.length;a++){var s=e[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(o,N(s.key),s)}}function A(o,e,a){return e&&T(o.prototype,e),a&&T(o,a),Object.defineProperty(o,"prototype",{writable:!1}),o}function C(o,e,a){return e=N(e),e in o?Object.defineProperty(o,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[e]=a,o}function E(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),e&&S(o,e)}function O(o){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},O(o)}function S(o,e){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,n){return s.__proto__=n,s},S(o,e)}function rs(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function f(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function cs(o,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f(o)}function x(o){var e=rs();return function(){var s=O(o),n;if(e){var l=O(this).constructor;n=Reflect.construct(s,arguments,l)}else n=s.apply(this,arguments);return cs(this,n)}}function is(o,e){if(typeof o!="object"||o===null)return o;var a=o[Symbol.toPrimitive];if(a!==void 0){var s=a.call(o,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(o)}function N(o){var e=is(o,"string");return typeof e=="symbol"?e:String(e)}var ys=function(){function o(e,a){h(this,o),this.url=e;var s=new window.XMLHttpRequest;s.target=this,s.responseType="arraybuffer",s.open("get",e),s.onload=function(){(s.status===200||s.status===206)&&a&&a instanceof Function&&a(s.response)},s.onerror=function(n){},this.xhr=s,this.run()}return A(o,[{key:"cancel",value:function(){this.xhr.abort()}},{key:"run",value:function(){this.xhr.readyState===1&&this.xhr.send()}}]),o}(),F={ORDER:"order",SLOOP:"sloop",LOOP:"loop",RANDOM:"random"},R="xgplayer-music";function q(o,e,a){var s=Math.floor(Math.random()*(e-o)+o);return s===a?(s>e/2?e=e/2:o=e/2,e-o>2?q(o,e,a):s):s}var Ds=function(o){E(a,o);var e=x(a);function a(){var s;h(this,a);for(var n=arguments.length,l=new Array(n),t=0;t<n;t++)l[t]=arguments[t];return s=e.call.apply(e,[this].concat(l)),C(f(s),"_onEnded",function(){if(s.mode==="order"&&s.index+1>=s.list.length){s.player.pause(),s.player.currentTime=0;return}switch(s.mode){case F.SLOOP:s.change();break;case F.ORDER:case F.LOOP:default:s.next();break}}),C(f(s),"_onDurationChange",function(){var p=s.config.abCycle;s._initABCycle(p,s.player)}),C(f(s),"_onTimeUpdate",function(){var p=f(s),c=p.config,r=p.player;if(!s.halfPass&&r.currentTime>r.duration/2&&s.confirmOrder(),c.abCycle){var i=c.abCycle,y=i.end>r.duration?r.duration:i.end;r.currentTime>=y?(i.loop||(r.pause(),s.emit("abCycle_ended")),r.currentTime=i.start||0):r.currentTime<i.start&&(r.currentTime=i.start||0)}}),s}return A(a,[{key:"afterCreate",value:function(){var n=this.player,l=this.playerConfig;v.addClass(n.root,R),this.halfPass=!1,this.list=this.config.list||[],this.nextIndex=-1,this.prevIndex=-1,this.history=[],this.disable=!(this.list.length>0),this.list.length!==0&&(!l.url&&this.list.length>0&&(l.url=this.list[0].src),l.poster||(l.poster=this.list[0].poster),l.title||(l.title=this.list[0].title||""),l.vid||(l.vid=this.list[0].vid||""),this._curInfo={src:l.url,poster:l.poster,title:l.title,vid:l.vid},this.index=0,this.on(j,this._onTimeUpdate),this.on(z,this._onEnded),this.on(V,this._onDurationChange),this.config.offline&&this.checkOffline(this._curInfo.src,this._curInfo.vid).then(function(t){t.code===0&&(l.url=t.url,n.state>=4&&(n.src=t.url))}).catch(function(t){}))}},{key:"destroy",value:function(){v.removeClass(this.player.root,R)}},{key:"_nextCompute",value:function(){if(!this.disable)switch(this.mode){case F.SLOOP:case F.ORDER:case F.LOOP:this.index+1<this.list.length?this.nextIndex=this.index+1:this.nextIndex=0;break;default:this.nextIndex=q(0,this.list.length,this.index);break}}},{key:"_prevCompute",value:function(){if(!this.disable)switch(this.mode){case F.SLOOP:case F.ORDER:case F.LOOP:this.index-1>=0?this.prevIndex=this.index-1:this.prevIndex=this.list.length-1;break;default:this.prevIndex=q(0,this.list.length,this.index);break}}},{key:"_emitChange",value:function(){this.emit("change",this._curInfo)}},{key:"_initABCycle",value:function(n,l){var t=l.plugins.progresspreview;if(n&&l){var p=n.end>this.player.duration?this.player.duration:n.end,c=n.start>this.player.duration?0:n.start,r={id:l.playerId,time:n.start,duration:p-c,text:n.text,color:n.color};t.findDot(r.id)?t.updateDot(r):t.createDot(r)}else t.findDot(l.playerId)&&t.deleteDot(l.playerId)}},{key:"random",value:function(){if(this.list.length<0)return null;var n=q(0,this.list.length,this.index);return this.list[n]}},{key:"next",value:function(){this.disable||(this.halfPass||(this.halfPass=!0,this._nextCompute()),this.index=this.nextIndex,this.change())}},{key:"prev",value:function(){this.disable||(this.halfPass||(this.halfPass=!0,this._prevCompute()),this.index=this.prevIndex,this.change())}},{key:"forward",value:function(){var n=this.player,l=this.config.timeScale;n.currentTime=n.currentTime+l<n.duration?n.currentTime+l:n.duration-.1}},{key:"backward",value:function(){var n=this.player,l=this.config.timeScale;n.currentTime=n.currentTime-l>0?n.currentTime-l:0}},{key:"add",value:function(n){this.list.push({src:n.src,title:n.title,vid:n.vid,poster:n.poster})}},{key:"remove",value:function(n){var l=-1;this.list.every(function(t,p){return t.vid===n?(l=p,!1):!0}),l>-1&&this.list.splice(l,1)}},{key:"setAbCycle",value:function(n,l,t){var p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};n&&v.typeof(n)==="Object"?this.config.abCycle=k({},n):this.config.abCycle=k({start:n||0,end:l||this.player.duration,loop:t},p),this._initABCycle(this.config.abCycle,this.player)}},{key:"removeAbCycle",value:function(){this.config.abCycle=null,this._initABCycle(null,this.player)}},{key:"updateList",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.removeAbCycle(),this.player.pause(),this.player.currentTime=0,this.list=n,this.nextIndex=0,this.index=0,this.change()}},{key:"setIndex",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;n<0||n>=this.list.length||(this.nextIndex=n,this.index=n,this.change())}},{key:"change",value:function(){var n=this;if(!this.disable){var l=this.player,t=this.list,p=this.index,c=t[p].vid;this.halfPass=!1,this.checkOffline(t[p].src,c).then(function(r){n._curInfo={title:n.list[n.index].title||"",vid:n.list[n.index].vid,poster:n.list[n.index].poster||"",src:r.url},l.playNext({url:r.url,vid:n.list[n.index].vid||0,poster:n.list[n.index].poster||"",autoplay:!0}),l.off("timeupdate",n._emitChange),l.once("timeupdate",n._emitChange),l.play()})}}},{key:"checkOffline",value:function(n,l){var t=this;return new Promise(function(p,c){(!t.config.offline||t.disable)&&p({url:n,code:-1,vid:l});var r=t.player.database;r.openDB(function(){r.getDataByKey(r.myDB.ojstore.name,l,function(i){setTimeout(function(){r.closeDB()},5e3),p(i?{url:URL.createObjectURL(i.blob),code:0,vid:i.vid}:{url:n,code:-2,vid:l})})})})}},{key:"confirmOrder",value:function(){this.halfPass=!0,this._nextCompute(),this._prevCompute(),this.config.preloadNext&&this.preload(this.nextIndex)}},{key:"preload",value:function(n){if(!(n<0||n>=this.list.length)){var l=this.list[n],t=this.player;this.checkOffline(l.src,l.vid).then(function(p){if(p.code===-2){var c=l.vid;new ys(l.src,function(r){t.database.openDB(function(){t.database.addData(t.database.myDB.ojstore.name,[{vid:c,blob:new Blob([r],{type:'audio/mp4; codecs="mp4a.40.5"'})}]),setTimeout(function(){t.database.closeDB()},5e3)})})}})}}},{key:"timeScale",get:function(){return this.config.timeScale||15},set:function(n){this.config.timeScale=n}},{key:"mode",get:function(){return this.config.mode||F.RANDOM},set:function(n){this.config.mode=n}}],[{key:"pluginName",get:function(){return"music"}},{key:"defaultConfig",get:function(){return{offline:!1,preloadNext:!0,abCycle:null,timeScale:15,mode:F.ORDER,list:[]}}},{key:"ModeType",get:function(){return Object.keys(F).map(function(n){return F[n]})}}]),a}(H),Fs=function(o){E(a,o);var e=x(a);function a(){return h(this,a),e.apply(this,arguments)}return A(a,[{key:"afterCreate",value:function(){var n=this;if(this.on("change",function(t){if(t&&t.poster){if(n.find("img"))n.find("img").src=t.poster;else{var p=new Image;p.src=t.poster,n.appendChild(p)}n.find("img").src=t.poster,n.show()}else n.hide()}),this.playerConfig.poster){var l=new Image;l.src=this.playerConfig.poster,this.appendChild(l)}}},{key:"render",value:function(){return'<xg-icon class="xgplayer-cover"></xg-icon>'}}],[{key:"pluginName",get:function(){return"musiccover"}},{key:"defaultConfig",get:function(){return{index:6,position:m.POSITIONS.CONTROLS_LEFT}}}]),a}(m),us=function(o){E(a,o);var e=x(a);function a(){var s;h(this,a);for(var n=arguments.length,l=new Array(n),t=0;t<n;t++)l[t]=arguments[t];return s=e.call.apply(e,[this].concat(l)),C(f(s),"onClick",function(p){var c=f(s),r=c.player;p.preventDefault(),p.stopPropagation(),r.plugins.music.backward()}),s}return A(a,[{key:"afterCreate",value:function(){var n=this;this.initIcons();var l=["click","touchstart"];l.forEach(function(t){n.bind(t,n.onClick)})}},{key:"registerIcons",value:function(){return{musicBackward:{icon:`<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="-2 0 21 15">
      <path d="m 14,2.99996 0,10 -7,-5 7,-5 z m -7,5 0,5 -7,-5 7,-5 0,5 z m -7,0 0,0 z"></path>
  </svg>`,class:"xg-icon-mbackward"}}}},{key:"initIcons",value:function(){var n=this.icons;this.appendChild(".xgplayer-icon",n.musicBackward)}},{key:"destroy",value:function(){var n=this,l=["click","touchstart"];l.forEach(function(t){n.unbind(t,n.onClick)})}},{key:"render",value:function(){return`<xg-icon class="xgplayer-backward">
            <div class="xgplayer-icon">
            </div>
          </xg-icon>`}}],[{key:"pluginName",get:function(){return"musicbackword"}},{key:"defaultConfig",get:function(){return{index:1,position:m.POSITIONS.CONTROLS_LEFT}}}]),a}(m),Cs=function(o){E(a,o);var e=x(a);function a(){var s;h(this,a);for(var n=arguments.length,l=new Array(n),t=0;t<n;t++)l[t]=arguments[t];return s=e.call.apply(e,[this].concat(l)),C(f(s),"onClick",function(p){var c=f(s),r=c.player;p.preventDefault(),p.stopPropagation(),r.plugins.music.prev()}),s}return A(a,[{key:"afterCreate",value:function(){var n=this;this.initIcons();var l=["click","touchstart"];l.forEach(function(t){n.bind(t,n.onClick)})}},{key:"registerIcons",value:function(){return{musicPrev:{icon:` <svg xmlns="http://www.w3.org/2000/svg" width="40" height="32" viewBox="300 200 1024 1024">
        <path d="M600 1140v-768h128v352l320-320v704l-320-320v352zz"></path>
    </svg>`,class:"xg-icon-mprev"}}}},{key:"initIcons",value:function(){var n=this.icons;this.appendChild(".xgplayer-icon",n.musicPrev)}},{key:"destroy",value:function(){var n=this,l=["click","touchstart"];l.forEach(function(t){n.unbind(t,n.onClick)})}},{key:"render",value:function(){return`<xg-icon class="xgplayer-next">
            <div class="xgplayer-icon">
            </div>
          </xg-icon>`}}],[{key:"pluginName",get:function(){return"musicprev"}},{key:"defaultConfig",get:function(){return{index:2,position:m.POSITIONS.CONTROLS_LEFT}}}]),a}(m),fs=function(o){E(a,o);var e=x(a);function a(){var s;h(this,a);for(var n=arguments.length,l=new Array(n),t=0;t<n;t++)l[t]=arguments[t];return s=e.call.apply(e,[this].concat(l)),C(f(s),"onClick",function(p){var c=f(s),r=c.player;p.preventDefault(),p.stopPropagation(),r.plugins.music.forward()}),s}return A(a,[{key:"afterCreate",value:function(){var n=this;this.initIcons();var l=["click","touchstart"];l.forEach(function(t){n.bind(t,n.onClick)})}},{key:"registerIcons",value:function(){return{musicForward:{icon:`<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="-2 0 21 15">
        <path d="m 2,2.99996 0,10 7,-5 -7,-5 z m 7,5 0,5 7,-5 -7,-5 0,5 z m 7,0 0,0 z"></path>
      </svg>`,class:"xg-icon-mforward"}}}},{key:"initIcons",value:function(){var n=this.icons;this.appendChild(".xgplayer-icon",n.musicForward)}},{key:"destroy",value:function(){var n=this,l=["click","touchstart"];l.forEach(function(t){n.unbind(t,n.onClick)})}},{key:"render",value:function(){return`<xg-icon class="xgplayer-forward">
            <div class="xgplayer-icon">
            </div>
          </xg-icon>`}}],[{key:"pluginName",get:function(){return"musicforward"}},{key:"defaultConfig",get:function(){return{index:5,position:m.POSITIONS.CONTROLS_LEFT}}}]),a}(m),ds=function(o){E(a,o);var e=x(a);function a(){var s;h(this,a);for(var n=arguments.length,l=new Array(n),t=0;t<n;t++)l[t]=arguments[t];return s=e.call.apply(e,[this].concat(l)),C(f(s),"onClick",function(p){var c=f(s),r=c.player;p.preventDefault(),p.stopPropagation(),r.plugins.music.next()}),s}return A(a,[{key:"afterCreate",value:function(){var n=this;this.initIcons();var l=["click","touchstart"];l.forEach(function(t){n.bind(t,n.onClick)})}},{key:"registerIcons",value:function(){return{musicNext:{icon:` <svg xmlns="http://www.w3.org/2000/svg" width="40" height="32" viewBox="100 200 1024 1024">
        <path d="M800 380v768h-128v-352l-320 320v-704l320 320v-352z">
      </svg>`,class:"xg-icon-mnext"}}}},{key:"initIcons",value:function(){var n=this.icons;this.appendChild(".xgplayer-icon",n.musicNext)}},{key:"destroy",value:function(){var n=this,l=["click","touchstart"];l.forEach(function(t){n.unbind(t,n.onClick)})}},{key:"render",value:function(){return`<xg-icon class="xgplayer-next">
            <div class="xgplayer-icon">
            </div>
          </xg-icon>`}}],[{key:"pluginName",get:function(){return"musicnext"}},{key:"defaultConfig",get:function(){return{index:4,position:m.POSITIONS.CONTROLS_LEFT}}}]),a}(m),hs=function(o){E(a,o);var e=x(a);function a(){return h(this,a),e.apply(this,arguments)}return A(a,[{key:"beforeCreate",value:function(n){var l=n.player.plugins.progress;l&&(n.root=l.root)}},{key:"afterCreate",value:function(){var n=this;this.on("change",function(l){l&&l.title?n.root.innerHTML="".concat(l.title):n.root.innerHTML=""})}},{key:"render",value:function(){var n=this.playerConfig;return`<xg-title class="xgplayer-name">
          `.concat(n.title||"",`
       </xg-title>`)}}],[{key:"pluginName",get:function(){return"musicmeta"}},{key:"defaultConfig",get:function(){return{index:0}}}]),a}(m);function As(o){if(v.typeOf(o.controls)!=="Object")o.controls={mode:"flex",initShow:!0};else{var e=o.controls;o.controls=k({mode:"flex",initShow:!0},e)}var a=o.play||{};o.play=k({index:3},a),o.marginControls=!0,o.mediaType="audio"}var ms=A(function o(e,a){h(this,o),console.log("config",e,a),console.log("playerConfig",v.typeOf(a.controls)!=="Object"),As(a),this.plugins=[Ds,us,Cs,fs,ds,Fs,hs],this.ignores=["start","cssFullScreen","fullscreen","pip","enter","replay","pc","loading","poster"]}),bs=function(o){var e=o.data,a=o.options,s=o.ctx,n=o.h,l=o.w,t=e.length>a.count?a.count:e.length,p=parseInt(n/255*2,10);s.clearRect(0,0,l,n),s.fillStyle=a.bgColor,s.fillRect(0,0,l,n);for(var c=l/t,r=c-c/4,i,y=0,D=a.linear,d=0;d<t;d++)i=e[d],s.fillStyle=D,s.fillRect(y,n-i,r,i*p+n/2),y+=c},vs=function(o){var e=o.data,a=o.options,s=o.ctx,n=o.h,l=o.w,t=a.count||128;e.length<t&&(t=e.length);var p=n/255,c=l/t,r=a.linear;s.clearRect(0,0,l,n),s.fillStyle=a.bgColor,s.fillRect(0,0,l,n);for(var i=1;i<=t;i++){var y=e[i];y*=p;var D=c*i;s.moveTo(D,n),s.lineTo(D,n-y),s.strokeStyle=r,s.stroke(),s.beginPath()}},gs=function(o){var e=o.data,a=o.options,s=o.ctx,n=o.h,l=o.w,t=e.length>a.count?a.count:e.length;s.clearRect(0,0,l,n),s.fillStyle=a.bgColor,s.fillRect(0,0,l,n),s.beginPath();var p=a.linear;s.strokeStyle=p;for(var c=l/t,r=0,i=0;i<t;i++){var y=e[i]/128,D=y*n/2;i===0?s.moveTo(r,D):s.lineTo(r,D),r+=c}s.lineTo(l,n/2),s.stroke()},_s=function(o){var e=o.data,a=o.options,s=o.ctx,n=o.h,l=o.w,t=n/255,p=l/128,c=a.count||128,r=5;s.clearRect(0,0,l,n),s.fillStyle=a.bgColor,s.fillRect(0,0,l,n);for(var i=a.linear,y=1;y<=c;y++){var D=e[y];D+=r,D*=t;var d=p*y,w=n/2+D/2;s.moveTo(d,w),s.lineTo(d,w-D),s.strokeStyle=i,s.stroke(),s.beginPath()}},Es=function(o){var e=o.data,a=o.options,s=o.ctx,n=o.h,l=o.w,t=e.length>a.count?a.count:e.length,p=n/255;s.clearRect(0,0,l,n),s.fillStyle=a.bgColor,s.fillRect(0,0,l,n);for(var c=l/t,r=c-c/4,i,y=0,D=a.linear,d=0;d<t;d++)i=e[d]*p,s.fillStyle=D,s.fillRect(y,n/2+i/2,r,-i),y+=c};function xs(o,e,a){for(var s=o.createLinearGradient(0,0,e,0),n=a.length,l=100/n,t=0;t<a.length;t++)s.addColorStop(l*t/100,a[t]);return s}function ws(o,e){(!e||e<1)&&(e=o.length*e);for(var a=[],s=Math.floor(o.length/e),n=1;n<=e;n++){var l=o.slice(n*s,n*s+s),t=l[Math.floor(l.length/2)];a.push(t)}return a}function ks(o,e){var a=e/255;e<=3&&e>=0&&(a=e);var s=o.map(function(n){return n*a});return s}function qs(o,e){for(var a=Math.floor(o.length/e),s=[],n=[],l=0,t=0;t<=a*e;t++)l===a&&(s.push(n),n=[],l=0),n.push(o[t]),l++;return s}function L(o,e,a,s){var n=a.w,l=a.linear,t=a.reverse,p=a.offset;o.save(),o.beginPath();var c=n*1/s;o.strokeStyle=l;for(var r=0,i=0,y=0;y<s;y++)i=t?0-e[y]:e[y],i=p-i,y===0?o.moveTo(r,i):o.lineTo(r,i),r+=c;o.lineTo(n,i),o.stroke()}var Os=function(o){var e=o.options,a=o.ctx,s=o.h,n=o.w,l=o.data,t=e.colors;l=ws(l,2048),l=ks(l,s/2),l=qs(l,4).slice(0,3),a.clearRect(0,0,n,s),a.fillStyle=e.bgColor,a.fillRect(0,0,n,s);for(var p=0;p<l.length;p++)L(a,l[p],{linear:t[p],w:n,h:s,offset:s/2,reverse:!1},l[p].length),L(a,l[p],{linear:t[p],w:n,h:s,offset:s/2,reverse:!0},l[p].length)},Ps={bars:bs,vertLines:vs,lightning:gs,doubleLine:_s,doubleBars:Es,waves:Os},Ss={bars:2,vertLines:1,lightning:2,doubleLine:1,doubleBars:2,waves:2},Is={BARS:"bars",VERT_LINES:"vertLines",LIGHTNING:"lightning",DOUBLE_LINE:"doubleLine",DOUBLE_BARS:"doubleBars",WAVES:"waves"};function Ts(o,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;if(e){a=k({},a),a.stroke||(a.stroke=1),a.colors||(a.colors=["#ff8177","#cf556c","#f99185","#b12a5b"]);var n=e.getContext("2d"),l=e.height,t=e.width;n.strokeStyle=a.colors[0],n.lineWidth=a.stroke;var p={data:o,options:a,ctx:n,h:l,w:t};typeof a.mode=="string"&&(a.mode=[a.mode]),a.mode.forEach(function(c){s%Ss[c]===0&&(n.clearRect(0,0,t,l),n.beginPath(),Ps[c](p))})}}var Rs=function(){function o(e,a){var s=this,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};h(this,o),C(this,"start",function(){s.reqId||s._renderFrame()}),C(this,"stop",function(){cancelAnimationFrame(s.reqId),s.reqId=null}),C(this,"_onDestroy",function(){s._audioCtx.close()}),C(this,"_onoVolumechange",function(){console.log("onoVolumechange"),s.gainNode.gain.setValueAtTime(s.player.volume,s.player.currentTime)}),C(this,"_renderFrame",function(){s.reqId&&cancelAnimationFrame(s.reqId),s.reqId=requestAnimationFrame(s._renderFrame),s.frameCount++,s.mode==="lightning"?s.analyser.getByteTimeDomainData(s.dataArray):s.analyser.getByteFrequencyData(s.dataArray),Ts.call(s,s.dataArray,s.canvas,s.options,s.frameCount)}),this.canvas=a;var l=this.canvas.getBoundingClientRect(),t=l.width,p=l.height;if(this.canvas.width=t*2,this.canvas.height=p*2,this.player=e,this.options=o.defaultConfig,Object.keys(n).map(function(r){s.options[r]=n[r]}),!!o.AudioCtx){e.audioCtx?this._audioCtx=e.audioCtx:this._audioCtx=new o.AudioCtx,this.analyser=this._audioCtx.createAnalyser();var c=this._audioCtx.createGain();c.gain.setValueAtTime(e.volume,e.currentTime),this.gainNode=c,this.source=this._audioCtx.createMediaElementSource(e.video),this.ctx=a.getContext("2d"),this.source.connect(this.analyser),this.analyser.connect(c),this.fftSize=this.options.fftSize,this.frameCount=0,this.options.isGradient&&(this.options.linear=xs(this.ctx,a.width,this.options.colors)),c.connect(this._audioCtx.destination),this._initPlayerEvents()}}return A(o,[{key:"_initPlayerEvents",value:function(){var a=this;["play","playing","seeked"].forEach(function(s){a.player.on(s,a.start)}),this.player.on("volumechange",this._onoVolumechange),this.player.on("destroy",this._onDestroy)}},{key:"destroy",value:function(){var a=this;this.stop(),["play","playing","seeked"].forEach(function(s){a.player.off(s,a.start)}),this.player.off("volumechange",this._onoVolumechange),this.player.off("destroy",this._onDestroy),this._audioCtx.close()}},{key:"mode",get:function(){return this.options.mode},set:function(a){this.options.mode=a}},{key:"fftSize",get:function(){return this.analyser.frequencyBinCount*2},set:function(a){this.analyser.fftSize=a;var s=this.analyser.frequencyBinCount;this.dataArray=new Uint8Array(s)}}],[{key:"defaultConfig",get:function(){return{fftSize:16384,count:1024,mode:"bars",colors:["#ff8177","#cf556c","#f99185","#b12a5b"],stroke:2,bgColor:"#000",isGradient:!0,linear:null}}},{key:"MODES",get:function(){return Is}},{key:"AudioCtx",get:function(){return window.AudioContext||window.webkitAudioContext}}]),o}(),Ls=A(function o(e){h(this,o),this.regRule=/(\d{2}(?=:)):(\d{2}(?=\.))\.(\d{2,3})/g,this.regRule.test(e)?this.time=RegExp.$1*60+RegExp.$2*1+("0."+RegExp.$3)*1:this.time=-1}),Ms=function(){function o(e,a){var s=this;h(this,o),this.rawTxts=e,this.txts=e.map(function(n){return n.replace(/^[\r\n]|[\r\n]$/g,"").match(/(\[.*\])[^[]+/g)}),this.isDynamics=e.map(function(n,l){return[].concat(n.match(/\[\d{2}:\d{2}\.\d{2,3}\]/g)).length===s.txts[l].length&&s.txts[l].length===s.txts[0].length&&s.txts[l].length>1}),this.isDynamic=this.isDynamics.some(function(n){return n}),this.__ainimateInterval__=0,this.__offset__=0,this.__offsetScale__=.5,this.dom=a,this.lists=[],this.isDynamics.map(function(n,l){n&&s.lists.push(s.txts[l].map(function(t,p){var c=/(\[[\d:\S]+\])([^[]+)/g.test(t),r=RegExp.$1,i=RegExp.$2;return{time:c?new Ls(r).time:-1,lyric:i,idx:p}}))}),this.list=this.lists.reduce(function(n,l){return n.map(function(t,p){return{time:t.time,lyric:t.lyric===`
`?"".concat(t.lyric).concat(l[p].lyric):"".concat(t.lyric,"<br/>").concat(l[p].lyric),idx:p}})}),this.line=0}return A(o,[{key:"interval",get:function(){return this.__ainimateInterval__},set:function(a){this.__ainimateInterval__=a}},{key:"offset",get:function(){return this.__offset__},set:function(a){this.__offset__=a}},{key:"offsetScale",get:function(){return this.__offsetScale__},set:function(a){this.__offsetScale__=a}},{key:"adjust",value:function(){for(var a=this.list,s=0,n,l,t=a.length;s<t;s++){for(n=s+1;n<t&&!(a[n].time>a[s].time);n++);if(n<t){var p=(a[n].time-a[s].time)/(n-s);for(l=s+1;l<n;l++)a[l].time=a[l-1].time+p}}}},{key:"find",value:function(a){var s=this.list,n=this.__ainimateInterval__,l=this.__offset__;return a=a+l>0?a+l:0,s.filter(function(t,p){var c=t.time,r=p+1;return a>=c&&(s[r]&&a*1+n*1<=s[r].time||r>=s.length)})}},{key:"bind",value:function(a){var s=this,n=this;return this.__player__=a,n.isDynamic?(n.__handle__=(function(){var l=s.find(a.currentTime)[0];l&&l.idx!==s.line&&(s.line=l.idx,a.emit("lyricUpdate",l))}).bind(n,a),a.on("timeupdate",n.__handle__),n.__startHandle__=(function(){a.emit("lyricUpdate",n.list[0])}).bind(n,a),a.once("playing",n.__startHandle__),!0):!1}},{key:"unbind",value:function(a){delete this.__player__,this.__handle__&&(a.off("lyricUpdate",this.__handle__),delete this.__handle__)}},{key:"show",value:function(){var a=this,s=this.dom,n=[],l=this,t=["click","touchstart"];if(s&&s.nodeType===1){var p=v.createDom("div","<div></div>",{},"xgplayer-lrcWrap");s.appendChild(p),this.list.forEach(function(i){n.push('<xg-lyric-item class="xgplayer-lyric-item" data-idx="'.concat(i.idx,'">').concat(i.lyric.replace(/[\r\n]/g,""),"</xg-lyric-item>"))}),p.innerHTML=n.join("");var c=v.createDom("xg-lrcForward","<div></div>",{},"xgplayer-lrcForward");s.appendChild(c),t.forEach(function(i){c.addEventListener(i,function(y){y.preventDefault(),y.stopPropagation(),l.offset-=l.offsetScale,console.log("lyric go forward ".concat(l.offsetScale,"s"))},!1)});var r=v.createDom("xg-lrcBack","<div></div>",{},"xgplayer-lrcBack");s.appendChild(r),t.forEach(function(i){r.addEventListener(i,function(y){y.preventDefault(),y.stopPropagation(),l.offset+=l.offsetScale,console.log("lyric go back ".concat(l.offsetScale,"s"))},!1)}),this.__updateHandle__=function(i){var y=a.dom.querySelector(".xgplayer-lrcWrap"),D=y.querySelector(".xgplayer-lyric-item-active"),d=y.offsetHeight,w;D&&(D.className="xgplayer-lyric-item"),D=y.querySelector('.xgplayer-lyric-item[data-idx="'.concat(i.idx,'"]')),D&&(D.className="xgplayer-lyric-item xgplayer-lyric-item-active",w=D.getBoundingClientRect().top-y.getBoundingClientRect().top+y.scrollTop-d/2,w&&(y.scrollTop=w))},this.__player__.on("lyricUpdate",this.__updateHandle__)}else this.__player__.emit("error","lyric container can not be empty")}},{key:"hide",value:function(){this.__updateHandle__.off("lyricUpdate",this.__updateHandle__)}}]),o}();const Bs=o=>(Y("data-v-90edd8f4"),o=o(),Q(),o),Ns=Bs(()=>u("div",{class:"music_ctn"},[u("div",{id:"left"},[u("div",{id:"album"}),u("div",{id:"info"},[B(" 脆弱一分钟 "),u("div",null,"歌手：林宥嘉"),u("div",null,"专辑：脆弱一分钟 ")])]),u("div",{id:"canvasMusic"},[u("canvas",{width:"550",height:"110"})]),u("div",{id:"mask"},[u("div",{id:"gc"})]),u("div",{id:"xgmusic"})],-1)),js={__name:"xgMusicPlay",setup(o){let e=null;$(()=>{e=new U({id:"xgmusic",url:"https://sf1-cdn-tos.huoshanstatic.com/obj/media-fe/xgplayer_doc_video/music/audio.mp3",volume:.8,width:window.innerWidth,height:50,mediaType:"audio",presets:["default",ms],ignores:["playbackrate"],controls:{initShow:!0,mode:"flex"},marginControls:!0,videoConfig:{crossOrigin:"anonymous"}}),e.crossOrigin="anonymous";let n=`[00:00.00] 脆弱一分钟
[00:00.00] 作曲 : 林家谦
[00:00.00] 作词 : 徐世珍/吴辉福
[00:00.000]编曲：林家谦
[00:00.000]时钟不要走
[00:04.220]让我脆弱一分钟
[00:07.440]要多久才能习惯被放手
[00:15.800]马克杯空了 暖暖的温热
[00:22.660]却还在我手中停留
[00:27.960]
[00:29.790]勇气不要走
[00:32.200]给我理由再冲动
[00:35.690]去相信爱情 就算还在痛
[00:43.960]如果我不说不会有人懂
[00:50.720]失去你我有多寂寞
[00:55.610]还是愿意
[00:57.580]付出一切仅仅为了一个好梦
[01:03.980]梦里有人真心爱我 陪我快乐也陪我沉默
[01:11.260]没有无缘无故的痛承受越多越成熟
[01:18.630]能让你拥抱更好的我
[01:25.030] 谁也不要走
[01:28.270]应该是一种奢求
[01:31.900]可是我只想 握紧你的手
[01:39.780]我宁愿等候 也不愿错过
[01:46.630]你对我微笑的时候
[01:56.780]
[02:18.910]还是愿意
[02:21.320]用尽全力仅仅为了一个以后
[02:27.870]哪怕生命并不温柔哪怕被幸福一再反驳
[02:34.870]也要相信伤痕累累 其实只是在琢磨
[02:42.070]能让你为之一亮 的我
[02:53.910]
[02:56.350]制作人：林宥嘉
[02:57.750]制作助理：张婕汝
[02:59.010]录音师：陈文骏、叶育轩
[03:00.410]录音室：白金录音室
[03:01.740]混音师：SimonLi @ nOiz
[03:03.000]OP: Terence Lam Production & Co. (Warner/Chappell Music, HK Ltd.)
[03:04.050]SP: Warner/Chappell Music Taiwan Ltd.
[03:04.910]OP：Universal Ms Publ Ltd Taiwan
`;console.log(document.querySelector("#canvasMusic>canvas")),new Rs(e,document.querySelector("#canvasMusic>canvas"),{bgColor:"rgba(0,0,0,0.7)",stroke:3,count:256});var l=new Ms([n],document.querySelector("#gc"),{});l.bind(e),e.on("lyricUpdate",t=>{console.log(t),t.lyric}),e.on("playing",function(){l.show();let t=document.querySelectorAll(".xgplayer-lyric-item");t&&(t=Array.from(t)),t.forEach(p=>{p.computedStyleMap.display="block"}),console.log(),e.mode=2}),document.querySelector("#canvasMusic>canvas").width=window.innerWidth,document.querySelector("#canvasMusic>canvas").height=window.innerHeight*.25});const a=G(),s=[{value:"waves",label:"waves"},{value:"bars",label:"bars"},{value:"lightning",label:"lightning"},{value:"vertLines",label:"vertLines"},{value:"doubleLine",label:"doubleLine"},{value:"doubleBars",label:"doubleBars"}];return(n,l)=>(P(),K(g(ps),null,{default:_(()=>[b(g(ns),{"label-width":"100px"},{default:_(()=>[b(g(as),null,{default:_(()=>[b(g(ls),{span:11,offset:0},{default:_(()=>[b(g(es),{label:"选择样式"},{default:_(()=>[b(g(os),{modelValue:a.value,"onUpdate:modelValue":l[0]||(l[0]=t=>a.value=t),class:"m-2",placeholder:"Select"},{default:_(()=>[(P(),M(X,null,J(s,t=>b(g(ts),{key:t.value,label:t.label,value:t.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),Ns]),_:1}))}},zs=W(js,[["__scopeId","data-v-90edd8f4"]]),Vs=u("h2",{id:"西瓜视频播放器测试用例",tabindex:"-1"},[B("西瓜视频播放器测试用例 "),u("a",{class:"header-anchor",href:"#西瓜视频播放器测试用例","aria-label":'Permalink to "西瓜视频播放器测试用例"'},"​")],-1),Hs=ss(`<div class="warning custom-block"><p class="custom-block-title">视频格式支持</p><p>目前仅支持（hls，mp4，flv）</p></div><br><details class="details custom-block"><summary>具体实现代码</summary><div class="language-vue line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">script</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">setup</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">element-plus/dist/index.css</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">ElButton</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">ElSelect</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">ElForm</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">ElFormItem</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">ElInput</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">ElOption</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">ElRow</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">ElCol</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">ElCard</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">element-plus</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">onMounted</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">reactive</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">ref</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">watch</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">vue</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> Player </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">xgplayer</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">xgplayer/dist/index.min.css</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">xgplayer</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> HlsPlayer </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">xgplayer-hls</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> FlvPlayer </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">xgplayer-flv</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> Mp4Player </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">xgplayer-mp4</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 配置选项</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> Form </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">reactive</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">type</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">null,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> dicts </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">reactive</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">url</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">https://stream7.iqilu.com/10339/upload_transcode/202002/18/20200218114723HDu3hhxqIT.mp4</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">label</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">mp4测试用例</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">https://vip.lz-cdn5.com/20220401/3315_dbd60bc0/index.m3u8</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">label</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">m3u8测试用例</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">https://sf1-hscdn-tos.pstatp.com/obj/media-fe/xgplayer_doc_video/flv/xgplayer-demo-360p.flv</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">label</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">flv测试用例</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    ]</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// xgplayer</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> options </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">reactive</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">id</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">mse</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">url</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">https://vip.lz-cdn5.com/20220401/3315_dbd60bc0/index.m3u8</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 尺寸</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">height</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">300</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">width</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">400</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 流式布局</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">fluid</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 自适应视频内容宽高</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">fitVideoSize</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">auto</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 音量</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">volume</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.6</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 自动播放</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">autoplay</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 循环播放</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">loop</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 初始化显示视频首帧</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">videoInit</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 封面图</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">poster</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 倍速播放</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">playbackRate</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#F78C6C;">0.5</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.75</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1.5</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 默认播放速度</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">defaultPlaybackRate</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 记忆播放</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 离开时存下 上次播放时间</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//  lastPlayTime: 20, //视频起播时间（单位：秒）</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// lastPlayTimeHideDelay: 5, //提示文字展示时长（单位：秒）</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 视频旋转</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">rotate</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">clockwise</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">innerRotate</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">playsinline</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">plugins</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> []</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">playsinline</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">whitelist</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&quot;&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">    ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">keyShortcut</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">on</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">closeVideoClick</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">closeVideoDblclick</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">closeVideoTouch</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">playbackRate</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">null</span></span>
<span class="line"><span style="color:#A6ACCD;">    ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">pip</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">download</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">thumbnail</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">pic_num</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">44</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">width</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">160</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">height</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">90</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">col</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">10</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">row</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">10</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">urls</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&quot;&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">        ]</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 预览本地视频</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// preview: {</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//     uploadEl: uploadDom</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// }</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">progressDot</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#F07178;">time</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">10</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">//展示标记的时间</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#F07178;">text</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">标记文字</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">//鼠标hover在标记时展示的文字</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#F07178;">duration</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">8</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">//标记段长度（以时长计算）</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#F07178;">style</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">//标记样式</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#F07178;">background</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">blue</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">},</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#F07178;">time</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">22</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#F07178;">text</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">标记文字</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">},</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#F07178;">time</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">56</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#F07178;">duration</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">8</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">},</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#F07178;">time</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">76</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> player </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">ref</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"><span style="color:#82AAFF;">onMounted</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">options</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">plugins</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">push</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">HlsPlayer</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">player</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">value</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">Player</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">options</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> change </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">player</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">value</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">destroy</span><span style="color:#F07178;">()</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">options</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">url</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">type</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">options</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">url</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">split</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">.</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">at</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">-</span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">                </span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">type</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;font-style:italic;">switch</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">type</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#89DDFF;font-style:italic;">case</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">m3u8</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#F07178;">                </span><span style="color:#A6ACCD;">options</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">plugins</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> [</span><span style="color:#A6ACCD;">HlsPlayer</span><span style="color:#F07178;">]</span></span>
<span class="line"><span style="color:#F07178;">                </span><span style="color:#89DDFF;font-style:italic;">break</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#89DDFF;font-style:italic;">case</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">flv</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#F07178;">                </span><span style="color:#A6ACCD;">options</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">plugins</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> [</span><span style="color:#A6ACCD;">FlvPlayer</span><span style="color:#F07178;">]</span></span>
<span class="line"><span style="color:#F07178;">                </span><span style="color:#89DDFF;font-style:italic;">break</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#89DDFF;font-style:italic;">case</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">mp4</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#F07178;">                </span><span style="color:#A6ACCD;">options</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">plugins</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> [</span><span style="color:#A6ACCD;">Mp4Player</span><span style="color:#F07178;">]</span></span>
<span class="line"><span style="color:#F07178;">                </span><span style="color:#89DDFF;font-style:italic;">break</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#F07178;">                </span><span style="color:#A6ACCD;">options</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">plugins</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> []</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">player</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">value</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">Player</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">options</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">ElCard</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">el-form</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">label-width</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">100px</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">el-row</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">el-col</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">:span</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">11</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">:offset</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">                        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">el-form-item</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">label</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">视频源src</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">                            </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">el-select</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">v-model</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">options.url</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">placeholder</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">请输入视频源（src）</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">@change</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">change</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">clearable</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">                                </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">el-option</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">v-for</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">item in dicts.url</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">:key</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">item.value</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">:label</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">item.label</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">:value</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">item.value</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">                                </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">el-option</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">                            </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">el-select</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">                        </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">el-form-item</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">                    </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">el-col</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">el-col</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">:span</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">11</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">:offset</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">                        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">el-form-item</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">label</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">视频源src</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">                            </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">el-input</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">v-model</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">options.url</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">placeholder</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">请输入视频源（src）</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">@change</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">change</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">clearable</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">el-input</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">                        </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">el-form-item</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">                    </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">el-col</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">el-row</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">el-form</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">mse</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">ElCard</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">style</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">lang</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">scss</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">scoped</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">style</span><span style="color:#89DDFF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br></div></div></details><br>`,4),Cn=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"pages/ComponentsExample/xgVideoPlay.md","filePath":"pages/ComponentsExample/xgVideoPlay.md","lastUpdated":1695802926000}'),Us={name:"pages/ComponentsExample/xgVideoPlay.md"},fn=Object.assign(Us,{setup(o){return(e,a)=>{const s=Z("client-only");return P(),M("div",null,[Vs,b(s,null,{default:_(()=>[b(zs)]),_:1}),Hs])}}});export{Cn as __pageData,fn as default};
