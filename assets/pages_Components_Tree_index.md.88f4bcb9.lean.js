import{_ as d,o as C,j as i,k as D,N as u,C as y,p as b,V as m}from"./chunks/framework.5dd7d4b8.js";class A{constructor(n,l,s,a={children:"children",name:"name",icon:"&#xe67d;"}){this.data=n,this.elem=l,this.options=a,this.icon=a.icon,this.nodeClick=s}createNode(n,l,s=0){const a=document.createElement("li");if(a.setAttribute("data-level",s),a.style.paddingLeft=(s+1)*10+"px",s!=="0"&&a.setAttribute("data-state",0),n[this.options.children]){const o=document.createElement("i");o.className="iconfont tree_item_icon",o.innerHTML="&#xe606;",a.appendChild(o),o.addEventListener("click",p=>{const t=p.target.parentElement.getAttribute("data-state");t==0?(p.target.parentElement.setAttribute("data-state","1"),p.target.style.display="inline-block",p.target.style.transform="rotate(90deg)"):(p.target.parentElement.setAttribute("data-state","0"),p.target.style.display="inline-block",p.target.style.transform="rotate(0deg)");const F=p.target.parentElement.querySelectorAll(`li[data-level="${s+1}"]`);t==0?F.forEach(r=>{r.style.display="block"}):F.forEach(r=>{r.style.display="none"})})}const e=document.createElement("span");e.innerHTML=n[this.options.name],e.classList.add("ellipsis"),e.style.setProperty("max-width",`calc(100% - ${10*s}px) - 20px `),e.title=n[this.options.name],a.appendChild(e),l?l.appendChild(a):this.elem.appendChild(a),n[this.options.children]&&n[this.options.children].forEach(o=>{this.createNode(o,a,s+1)}),n[this.options.children]||e.addEventListener("click",()=>{this.nodeClick(n,a,l,s)})}render(){const n=document.createElement("ul");n.style.setProperty("width","100%"),n.style.setProperty("overflow","hidden"),this.data.forEach(s=>{this.createNode(s,n)}),document.querySelector(`${this.elem}`).appendChild(n),[...document.querySelector(`${this.elem}`).querySelectorAll("li")].filter(s=>s.getAttribute("data-state")==="0"&&s.getAttribute("data-level")>=1).forEach(s=>{s.style.display="none";const a=s.querySelector(".tree_item_icon");a&&(a.style.display="inline-block",a.style.transform="rotate(0deg)")})}}const h={class:"xcxcx container"},_={__name:"index",setup(c){return C(()=>{const n=[{id:1,name:"root1",children:[{id:2,name:"child1",children:[]},{id:3,name:"child2",children:[]}]}],l=".xcxcx.container";function s(e,o,p,t){console.log(e,o,p,t)}new A(n,l,s).render()}),(n,l)=>(i(),D("div",h))}},f=d(_,[["__scopeId","data-v-5231cbeb"]]),g=y("h1",{id:"tree-原生js实现",tabindex:"-1"},[b("tree 原生js实现 "),y("a",{class:"header-anchor",href:"#tree-原生js实现","aria-label":'Permalink to "tree 原生js实现"'},"​")],-1),q=m("",2),v=JSON.parse('{"title":"tree 原生js实现","description":"","frontmatter":{},"headers":[],"relativePath":"pages/Components/Tree/index.md","filePath":"pages/Components/Tree/index.md","lastUpdated":1708680592000}'),E={name:"pages/Components/Tree/index.md"},k=Object.assign(E,{setup(c){return(n,l)=>(i(),D("div",null,[g,u(f),q]))}});export{v as __pageData,k as default};
