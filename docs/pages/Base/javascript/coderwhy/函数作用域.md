## 函数作用域

- 函数作用域



- 作用域链 
  - 当前作用域 有个变量集合包含：当前作用域变量以及父级作用域变量
  - 变量查找 是沿着作用域链来进行查找的 直到找到最顶层作用域（window）

- 题目

  ```javascript
  // 题目1
  function foo(){
      m = 100//放到全局中
  }
  foo()
  console.log(m)//100
  
  //题目2
  
  function foo2(){
      var a = b =8
     //相当于
      //var a = 8
      //b =8
  }
  console.log(a,b)//a is not defined ,8
  //题目 3
  var n = 400
  function foo4(){
      console.log(n)//2.400
  }
  function foo3(){
      var n = 4
      console.log(n)//1.4
      foo4()
  }
  console.log(n) //400
  
  //题目4
  var n = 233
  function foo5(){
      console.log(n) //undefined
      retrun 
      var n = 23
  }
  ```

### 内存管理

> 分类：” 自动管理“ ”手动管理“ ;JavaScript 自动管理

- 变量在定义 变量函数 时自动被分配内存（复杂类型 堆中 ，简单数据类型 放在 栈中）
- 方式 
  - 标记清除
    - v8 采用的 标记清除 不仅仅用到了 这个算法 为了优化 结合其他的算法
    - 从跟对象中查找 没有被使用 不可用对象 将会被回收
  - 引用计数
    - 当引用计数变成0 时 就被回收了
    - 弊端 循环引用 相互引用造成内存泄漏

### 闭包

- 函数作为参数的使用

  ```()javascript
  function foo(num1,num2,Func){
      console.log(Func(num1,num2))
  } 
  function add(num1,num2){
  	return (num1+num2)
  }
  foo(12,12,add)
  ```

  