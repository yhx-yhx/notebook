# 环境变量
## vite env [vite文档/环境变量](https://cn.vitejs.dev/guide/env-and-mode.html#env-files)

## .env 文件

```
.env                # 所有情况下都会加载
.env.local          # 所有情况下都会加载，但会被 git 忽略
.env.[mode]         # 只在指定模式下加载
.env.[mode].local   # 只在指定模式下加载，但会被 git 忽略
```

> **注意：**为了防止意外地将一些环境变量泄漏到客户端，只有以 `VITE_` 为前缀的变量才会暴露给经过 vite 处理的代码





## HTML 环境变量替换[#](https://cn.vitejs.dev/guide/env-and-mode.html#html-env-replacement)

Vite 还支持在 HTML 文件中替换环境变量。`import.meta.env` 中的任何属性都可以通过特殊的 `%ENV_NAME%` 语法在 HTML 文件中使用：

```html
<h1>Vite is running in %MODE%</h1>
<p>Using data from %VITE_API_URL%</p>
```

如果环境变量在 `import.meta.env` 中不存在，比如不存在的 `%NON_EXISTENT%`，则会将被忽略而不被替换，这与 JS 中的 `import.meta.env.NON_EXISTENT` 不同，JS 中会被替换为 `undefined`。

## 模式

#### 文件名称 

- 开发 .env.development
- 生产版本 .env.production
- 测试版本 .env.test 

#### 打包时的模式切换

- 开发时 vite build  --mode development
- 生产版本 vite build --mode production
- 测试版本 vite build --mode test